#!/bin/sh

set -eu

# run static code checks like pyflakes and pep8
PYFILES=$(grep -lI '^#!.*python' `find -path ./make-checkout-workdir -prune -o -type f ! -name '.*'` 2>/dev/null)
python3 -m pyflakes $PYFILES

# FIXME: Fix code for the warnings and re-enable them
# python3 -m pycodestyle --ignore E501,E265,E261,W504,W605 $PYFILES

./test-bots
