<!DOCTYPE html>
<meta charset="utf8" />
<html>
  <script type="text/javascript" src="failure-stats.js"></script>
  <style>
    body {
        display: grid;
        grid-template-columns: auto auto;
    }
    body > div {
        margin: 10px;
    }
    table {
        width: 100%;
    }
    tr:nth-child(even) {
        background-color: #f2f2f2;
    }
    th, td {
        padding: 10px;
        text-align: left;
    }
    a:first-child {
        padding-right: 10px;
    }
  </style>
  <body>
  </body>
  <script type="text/javascript">
    const body = document.querySelector("body");
    tables.forEach(t => {
        const wrapper = document.createElement("DIV");

        // Create title of the table
        const title = document.createElement("H2");
        title.textContent = t.name;
        wrapper.appendChild(title);

        // Create table itself
        const table = document.createElement("TABLE");

        // Create heading
        let row = document.createElement("TR");
        t.columns.forEach(c => {
            const th = document.createElement("TH");
            th.textContent = c;
            row.appendChild(th);
        });
        table.appendChild(row);

        // Fill the table with data
        t.data.forEach(r => {
            row = document.createElement("TR");
            r.forEach(d => {
                // Array with logs
                const td = document.createElement("TD");
                if (typeof d === "object")
                    d.forEach(a => {
                        const ea = document.createElement("A");
                        ea.textContent = "log";
                        ea.href = a;
                        td.appendChild(ea);
                    });
                else
                    td.textContent = d;
                row.appendChild(td);
            });
            table.appendChild(row);
        });

        wrapper.appendChild(table);
        body.appendChild(wrapper);
    });
  </script>
</html>
